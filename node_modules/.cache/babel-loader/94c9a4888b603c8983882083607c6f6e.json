{"ast":null,"code":"// ParticleEffect.js\nimport React,{useLayoutEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var ParticleEffect=function ParticleEffect(){var canvasRef=useRef();var canvas;var context;var particles=[];var mouseX,mouseY;var centerX,centerY;var canvasWidth,canvasHeight;var speed=2;var targetSpeed=2;var randomizeParticle=function randomizeParticle(p){p.x=Math.random()*canvasWidth;p.y=Math.random()*canvasHeight;p.z=Math.random()*1500+500;return p;};useLayoutEffect(function(){canvas=canvasRef.current;context=canvas.getContext('2d');var resize=function resize(){canvasWidth=canvas.width=window.innerWidth;canvasHeight=canvas.height=window.innerHeight;centerX=canvasWidth*0.5;centerY=canvasHeight*0.5;context.fillStyle='rgb(255, 255, 255)';};document.addEventListener('resize',resize);resize();mouseX=centerX;mouseY=centerY;for(var i=0;i<500;i++){particles[i]=randomizeParticle({});particles[i].z-=500*Math.random();}var loop=function loop(){context.save();context.fillStyle='rgb(0, 0, 0)';context.fillRect(0,0,canvasWidth,canvasHeight);context.restore();speed+=(targetSpeed-speed)*0.01;for(var _i=0;_i<500;_i++){var p=particles[_i];p.pastZ=p.z;p.z-=speed;if(p.z<=0){randomizeParticle(p);continue;}var cx=centerX-(mouseX-centerX)*1.25;var cy=centerY-(mouseY-centerY)*1.25;var rx=p.x-cx;var ry=p.y-cy;var f=500/p.z;var x=cx+rx*f;var y=cy+ry*f;var r=0.5*f;var pf=500/p.pastZ;var px=cx+rx*pf;var py=cy+ry*pf;var pr=0.5*pf;var a=Math.atan2(py-y,px-x);var a1=a+Math.PI*0.5;var a2=a-Math.PI*0.5;context.beginPath();context.moveTo(px+pr*Math.cos(a1),py+pr*Math.sin(a1));context.arc(px,py,pr,a1,a2,true);context.lineTo(x+r*Math.cos(a2),y+r*Math.sin(a2));context.arc(x,y,r,a2,a1,true);context.closePath();context.fill();}requestAnimationFrame(loop);};var mouseMoveHandler=function mouseMoveHandler(e){mouseX=e.clientX;mouseY=e.clientY;};var mouseDownHandler=function mouseDownHandler(){targetSpeed=300;};var mouseUpHandler=function mouseUpHandler(){targetSpeed=2;};document.addEventListener('mousemove',mouseMoveHandler,false);document.addEventListener('mousedown',mouseDownHandler,false);document.addEventListener('mouseup',mouseUpHandler,false);loop();return function(){window.removeEventListener('resize',resize);document.removeEventListener('mousemove',mouseMoveHandler);document.removeEventListener('mousedown',mouseDownHandler);document.removeEventListener('mouseup',mouseUpHandler);};},[]);return/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,id:\"c\"});};export default ParticleEffect;","map":{"version":3,"sources":["/home/dheerajcl/Code-pulse/Codepulse/src/Particleeffect.js"],"names":["React","useLayoutEffect","useRef","ParticleEffect","canvasRef","canvas","context","particles","mouseX","mouseY","centerX","centerY","canvasWidth","canvasHeight","speed","targetSpeed","randomizeParticle","p","x","Math","random","y","z","current","getContext","resize","width","window","innerWidth","height","innerHeight","fillStyle","document","addEventListener","i","loop","save","fillRect","restore","pastZ","cx","cy","rx","ry","f","r","pf","px","py","pr","a","atan2","a1","PI","a2","beginPath","moveTo","cos","sin","arc","lineTo","closePath","fill","requestAnimationFrame","mouseMoveHandler","e","clientX","clientY","mouseDownHandler","mouseUpHandler","removeEventListener"],"mappings":"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","sourcesContent":["// ParticleEffect.js\nimport React, { useLayoutEffect, useRef } from 'react';\n\nconst ParticleEffect = () => {\n  const canvasRef = useRef();\n  let canvas;\n  let context;\n  let particles = [];\n  let mouseX, mouseY;\n  let centerX, centerY;\n  let canvasWidth, canvasHeight;\n  let speed = 2;\n  let targetSpeed = 2;\n\n  const randomizeParticle = (p) => {\n    p.x = Math.random() * canvasWidth;\n    p.y = Math.random() * canvasHeight;\n    p.z = Math.random() * 1500 + 500;\n    return p;\n  };\n\n  useLayoutEffect(() => {\n    canvas = canvasRef.current;\n    context = canvas.getContext('2d');\n\n    const resize = () => {\n      canvasWidth = canvas.width = window.innerWidth;\n      canvasHeight = canvas.height = window.innerHeight;\n      centerX = canvasWidth * 0.5;\n      centerY = canvasHeight * 0.5;\n      context.fillStyle = 'rgb(255, 255, 255)';\n    };\n\n    document.addEventListener('resize', resize);\n    resize();\n\n    mouseX = centerX;\n    mouseY = centerY;\n\n    for (let i = 0; i < 500; i++) {\n      particles[i] = randomizeParticle({});\n      particles[i].z -= 500 * Math.random();\n    }\n\n    const loop = () => {\n      context.save();\n      context.fillStyle = 'rgb(0, 0, 0)';\n      context.fillRect(0, 0, canvasWidth, canvasHeight);\n      context.restore();\n\n      speed += (targetSpeed - speed) * 0.01;\n\n      for (let i = 0; i < 500; i++) {\n        const p = particles[i];\n\n        p.pastZ = p.z;\n        p.z -= speed;\n\n        if (p.z <= 0) {\n          randomizeParticle(p);\n          continue;\n        }\n\n        const cx = centerX - (mouseX - centerX) * 1.25;\n        const cy = centerY - (mouseY - centerY) * 1.25;\n\n        const rx = p.x - cx;\n        const ry = p.y - cy;\n\n        const f = 500 / p.z;\n        const x = cx + rx * f;\n        const y = cy + ry * f;\n        const r = 0.5 * f;\n\n        const pf = 500 / p.pastZ;\n        const px = cx + rx * pf;\n        const py = cy + ry * pf;\n        const pr = 0.5 * pf;\n\n        const a = Math.atan2(py - y, px - x);\n        const a1 = a + Math.PI * 0.5;\n        const a2 = a - Math.PI * 0.5;\n\n        context.beginPath();\n        context.moveTo(px + pr * Math.cos(a1), py + pr * Math.sin(a1));\n        context.arc(px, py, pr, a1, a2, true);\n        context.lineTo(x + r * Math.cos(a2), y + r * Math.sin(a2));\n        context.arc(x, y, r, a2, a1, true);\n        context.closePath();\n        context.fill();\n      }\n\n      requestAnimationFrame(loop);\n    };\n\n    const mouseMoveHandler = (e) => {\n      mouseX = e.clientX;\n      mouseY = e.clientY;\n    };\n\n    const mouseDownHandler = () => {\n      targetSpeed = 300;\n    };\n\n    const mouseUpHandler = () => {\n      targetSpeed = 2;\n    };\n\n    document.addEventListener('mousemove', mouseMoveHandler, false);\n    document.addEventListener('mousedown', mouseDownHandler, false);\n    document.addEventListener('mouseup', mouseUpHandler, false);\n\n    loop();\n\n    return () => {\n      window.removeEventListener('resize', resize);\n      document.removeEventListener('mousemove', mouseMoveHandler);\n      document.removeEventListener('mousedown', mouseDownHandler);\n      document.removeEventListener('mouseup', mouseUpHandler);\n    };\n  }, []);\n\n  return <canvas ref={canvasRef} id=\"c\"></canvas>;\n};\n\nexport default ParticleEffect;\n"]},"metadata":{},"sourceType":"module"}