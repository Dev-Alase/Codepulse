{"ast":null,"code":"import _asyncToGenerator from\"/home/dheerajcl/Code-pulse/Codepulse/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/dheerajcl/Code-pulse/Codepulse/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/dheerajcl/Code-pulse/Codepulse/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{v4 as uuidV4}from'uuid';import toast from'react-hot-toast';import{useNavigate}from'react-router-dom';import ParticleEffect from'../Particleeffect';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),roomId=_useState2[0],setRoomId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var createNewRoom=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch('/create-room',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;if(data.success){setRoomId(data.roomId);toast.success('Created a new room');}else{toast.error('Failed to create a new room');}_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.error(_context.t0);toast.error('Failed to create a new room');case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function createNewRoom(_x){return _ref.apply(this,arguments);};}();var joinRoom=function joinRoom(){if(!roomId||!username){toast.error('ROOM ID & username is required');return;}// Redirect\nnavigate(\"/editor/\".concat(roomId),{state:{username:username}});};var handleInputEnter=function handleInputEnter(e){if(e.code==='Enter'){joinRoom();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"homePageWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formWrapper\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"homePageLogo\",src:\"/icon.png\",alt:\"code-pulse-logo\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"mainLabel\",children:\"Paste the ROOM ID from the invite\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inputBox\",placeholder:\"ROOM ID\",onChange:function onChange(e){return setRoomId(e.target.value);},value:roomId,onKeyUp:handleInputEnter}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inputBox\",placeholder:\"USERNAME\",onChange:function onChange(e){return setUsername(e.target.value);},value:username,onKeyUp:handleInputEnter}),/*#__PURE__*/_jsx(\"button\",{className:\"btn joinBtn\",onClick:joinRoom,children:\"Join\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"createInfo\",children:[\"If you don't have an invite, create a \\xA0\",/*#__PURE__*/_jsx(\"a\",{onClick:createNewRoom,href:\"\",className:\"createNewBtn\",children:\"new room\"})]})]})]}),/*#__PURE__*/_jsx(ParticleEffect,{}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"h4\",{children:\"Owned by WTproject;\"})})]});};export default Home;","map":{"version":3,"sources":["/home/dheerajcl/Code-pulse/Codepulse/src/pages/Home.js"],"names":["React","useState","v4","uuidV4","toast","useNavigate","ParticleEffect","Home","navigate","roomId","setRoomId","username","setUsername","createNewRoom","e","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","success","error","console","joinRoom","state","handleInputEnter","code","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { v4 as uuidV4 } from 'uuid';\nimport toast from 'react-hot-toast';\nimport { useNavigate } from 'react-router-dom';\nimport ParticleEffect from '../Particleeffect';\n\nconst Home = () => {\n  const navigate = useNavigate();\n\n  const [roomId, setRoomId] = useState('');\n  const [username, setUsername] = useState('');\n\n  const createNewRoom = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch('/create-room', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({}),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setRoomId(data.roomId);\n        toast.success('Created a new room');\n      } else {\n        toast.error('Failed to create a new room');\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error('Failed to create a new room');\n    }\n  };\n\n  const joinRoom = () => {\n    if (!roomId || !username) {\n      toast.error('ROOM ID & username is required');\n      return;\n    }\n\n    // Redirect\n    navigate(`/editor/${roomId}`, {\n      state: {\n        username,\n      },\n    });\n  };\n\n  const handleInputEnter = (e) => {\n    if (e.code === 'Enter') {\n      joinRoom();\n    }\n  };\n\n  return (\n    <div className=\"homePageWrapper\">\n      <div className=\"formWrapper\">\n        <img\n          className=\"homePageLogo\"\n          src=\"/icon.png\"\n          alt=\"code-pulse-logo\"\n        />\n        <h4 className=\"mainLabel\">Paste the ROOM ID from the invite</h4>\n        <div className=\"inputGroup\">\n          <input\n            type=\"text\"\n            className=\"inputBox\"\n            placeholder=\"ROOM ID\"\n            onChange={(e) => setRoomId(e.target.value)}\n            value={roomId}\n            onKeyUp={handleInputEnter}\n          />\n          <input\n            type=\"text\"\n            className=\"inputBox\"\n            placeholder=\"USERNAME\"\n            onChange={(e) => setUsername(e.target.value)}\n            value={username}\n            onKeyUp={handleInputEnter}\n          />\n          <button className=\"btn joinBtn\" onClick={joinRoom}>\n            Join\n          </button>\n          <span className=\"createInfo\">\n            If you don't have an invite, create a &nbsp;\n            <a\n              onClick={createNewRoom}\n              href=\"\"\n              className=\"createNewBtn\"\n            >\n              new room\n            </a>\n          </span>\n        </div>\n      </div>\n      <ParticleEffect />\n      <footer>\n        <h4>\n          Owned by WTproject;\n        </h4>\n      </footer>\n    </div>\n  );\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}