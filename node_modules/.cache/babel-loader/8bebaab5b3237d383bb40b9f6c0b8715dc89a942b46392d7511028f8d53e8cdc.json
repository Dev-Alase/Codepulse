{"ast":null,"code":"// ParticleEffect.js\nimport React,{useLayoutEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var ParticleEffect=function ParticleEffect(){var canvasRef=useRef();var canvas;var context;var particles=[];var mouseX,mouseY;var centerX,centerY;var canvasWidth,canvasHeight;var speed=2;var targetSpeed=2;var randomizeParticle=function randomizeParticle(p){p.x=Math.random()*canvasWidth;p.y=Math.random()*canvasHeight;p.z=Math.random()*1500+500;return p;};useLayoutEffect(function(){canvas=canvasRef.current;context=canvas.getContext('2d');var resize=function resize(){canvasWidth=canvas.width=window.innerWidth;canvasHeight=canvas.height=window.innerHeight;centerX=canvasWidth*0.5;centerY=canvasHeight*0.5;context.fillStyle='rgb(255, 255, 255)';};document.addEventListener('resize',resize);resize();mouseX=centerX;mouseY=centerY;for(var i=0;i<500;i++){particles[i]=randomizeParticle({});particles[i].z-=500*Math.random();}var loop=function loop(){context.save();context.fillStyle='rgb(0, 0, 0)';context.fillRect(0,0,canvasWidth,canvasHeight);context.restore();speed+=(targetSpeed-speed)*0.01;for(var _i=0;_i<500;_i++){var p=particles[_i];p.pastZ=p.z;p.z-=speed;if(p.z<=0){randomizeParticle(p);continue;}var cx=centerX-(mouseX-centerX)*1.25;var cy=centerY-(mouseY-centerY)*1.25;var rx=p.x-cx;var ry=p.y-cy;var f=500/p.z;var x=cx+rx*f;var y=cy+ry*f;var r=0.5*f;var pf=500/p.pastZ;var px=cx+rx*pf;var py=cy+ry*pf;var pr=0.5*pf;var a=Math.atan2(py-y,px-x);var a1=a+Math.PI*0.5;var a2=a-Math.PI*0.5;context.beginPath();context.moveTo(px+pr*Math.cos(a1),py+pr*Math.sin(a1));context.arc(px,py,pr,a1,a2,true);context.lineTo(x+r*Math.cos(a2),y+r*Math.sin(a2));context.arc(x,y,r,a2,a1,true);context.closePath();context.fill();}requestAnimationFrame(loop);};var mouseMoveHandler=function mouseMoveHandler(e){mouseX=e.clientX;mouseY=e.clientY;};var mouseDownHandler=function mouseDownHandler(){targetSpeed=300;};var mouseUpHandler=function mouseUpHandler(){targetSpeed=2;};document.addEventListener('mousemove',mouseMoveHandler,false);document.addEventListener('mousedown',mouseDownHandler,false);document.addEventListener('mouseup',mouseUpHandler,false);loop();return function(){window.removeEventListener('resize',resize);document.removeEventListener('mousemove',mouseMoveHandler);document.removeEventListener('mousedown',mouseDownHandler);document.removeEventListener('mouseup',mouseUpHandler);};},[]);return/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,id:\"c\"});};export default ParticleEffect;","map":{"version":3,"names":["React","useLayoutEffect","useRef","jsx","_jsx","ParticleEffect","canvasRef","canvas","context","particles","mouseX","mouseY","centerX","centerY","canvasWidth","canvasHeight","speed","targetSpeed","randomizeParticle","p","x","Math","random","y","z","current","getContext","resize","width","window","innerWidth","height","innerHeight","fillStyle","document","addEventListener","i","loop","save","fillRect","restore","pastZ","cx","cy","rx","ry","f","r","pf","px","py","pr","a","atan2","a1","PI","a2","beginPath","moveTo","cos","sin","arc","lineTo","closePath","fill","requestAnimationFrame","mouseMoveHandler","e","clientX","clientY","mouseDownHandler","mouseUpHandler","removeEventListener","ref","id"],"sources":["/home/dheerajcl/Code-pulse/Codepulse/src/Particleeffect.js"],"sourcesContent":["// ParticleEffect.js\nimport React, { useLayoutEffect, useRef } from 'react';\n\nconst ParticleEffect = () => {\n  const canvasRef = useRef();\n  let canvas;\n  let context;\n  let particles = [];\n  let mouseX, mouseY;\n  let centerX, centerY;\n  let canvasWidth, canvasHeight;\n  let speed = 2;\n  let targetSpeed = 2;\n\n  const randomizeParticle = (p) => {\n    p.x = Math.random() * canvasWidth;\n    p.y = Math.random() * canvasHeight;\n    p.z = Math.random() * 1500 + 500;\n    return p;\n  };\n\n  useLayoutEffect(() => {\n    canvas = canvasRef.current;\n    context = canvas.getContext('2d');\n\n    const resize = () => {\n      canvasWidth = canvas.width = window.innerWidth;\n      canvasHeight = canvas.height = window.innerHeight;\n      centerX = canvasWidth * 0.5;\n      centerY = canvasHeight * 0.5;\n      context.fillStyle = 'rgb(255, 255, 255)';\n    };\n\n    document.addEventListener('resize', resize);\n    resize();\n\n    mouseX = centerX;\n    mouseY = centerY;\n\n    for (let i = 0; i < 500; i++) {\n      particles[i] = randomizeParticle({});\n      particles[i].z -= 500 * Math.random();\n    }\n\n    const loop = () => {\n      context.save();\n      context.fillStyle = 'rgb(0, 0, 0)';\n      context.fillRect(0, 0, canvasWidth, canvasHeight);\n      context.restore();\n\n      speed += (targetSpeed - speed) * 0.01;\n\n      for (let i = 0; i < 500; i++) {\n        const p = particles[i];\n\n        p.pastZ = p.z;\n        p.z -= speed;\n\n        if (p.z <= 0) {\n          randomizeParticle(p);\n          continue;\n        }\n\n        const cx = centerX - (mouseX - centerX) * 1.25;\n        const cy = centerY - (mouseY - centerY) * 1.25;\n\n        const rx = p.x - cx;\n        const ry = p.y - cy;\n\n        const f = 500 / p.z;\n        const x = cx + rx * f;\n        const y = cy + ry * f;\n        const r = 0.5 * f;\n\n        const pf = 500 / p.pastZ;\n        const px = cx + rx * pf;\n        const py = cy + ry * pf;\n        const pr = 0.5 * pf;\n\n        const a = Math.atan2(py - y, px - x);\n        const a1 = a + Math.PI * 0.5;\n        const a2 = a - Math.PI * 0.5;\n\n        context.beginPath();\n        context.moveTo(px + pr * Math.cos(a1), py + pr * Math.sin(a1));\n        context.arc(px, py, pr, a1, a2, true);\n        context.lineTo(x + r * Math.cos(a2), y + r * Math.sin(a2));\n        context.arc(x, y, r, a2, a1, true);\n        context.closePath();\n        context.fill();\n      }\n\n      requestAnimationFrame(loop);\n    };\n\n    const mouseMoveHandler = (e) => {\n      mouseX = e.clientX;\n      mouseY = e.clientY;\n    };\n\n    const mouseDownHandler = () => {\n      targetSpeed = 300;\n    };\n\n    const mouseUpHandler = () => {\n      targetSpeed = 2;\n    };\n\n    document.addEventListener('mousemove', mouseMoveHandler, false);\n    document.addEventListener('mousedown', mouseDownHandler, false);\n    document.addEventListener('mouseup', mouseUpHandler, false);\n\n    loop();\n\n    return () => {\n      window.removeEventListener('resize', resize);\n      document.removeEventListener('mousemove', mouseMoveHandler);\n      document.removeEventListener('mousedown', mouseDownHandler);\n      document.removeEventListener('mouseup', mouseUpHandler);\n    };\n  }, []);\n\n  return <canvas ref={canvasRef} id=\"c\"></canvas>;\n};\n\nexport default ParticleEffect;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}